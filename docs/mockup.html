<html>
<head>
<title>mountebank UI</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>


<style>
body {
  font-family: "Helvetica Neue", Robot, "Segoe UI"
}
fieldset {
  //border: 0.5px solid #bbb !important;
}
</style>

</head>
<body>

<div class="container">
<form>
  <div class="row">
    Name <input type="text" />:<input type="number" placeholder="port" value="3000" />
  </div>

  <div class="row">

      <ul class="nav nav-pills flex-column col-md-2" role="tablist" aria-orientation="vertical" id="stub-tabs">
        <li class="nav-item stub-tab"><a class="nav-link active" href="#stub_1" data-toggle="tab">Stub 1</a></li>
        <li class="nav-item stub-tab"><a class="nav-link" href="#stub_2" data-toggle="tab">Stub 2</a></li>
        <li class="nav-item stub-tab"><a class="nav-link" href="#stub_3" data-toggle="tab">Stub 3</a></li>
        <li><button class="add-stub">+stub</button></li>
      </ul>

      <div class="tab-content col-md-10" id="stub-panes">
        <div class="tab-pane form-group stub-pane active" id="stub_1">
          <fieldset>
            <legend>Stub-1</legend>

            <div class="form-row">
              <div class="col-xs-2">
                <select class="form-control">
                  <option>-ANY-</option>
                  <option>POST</option>
                  <option>GET</option>
                  <option>PUT</option>
                  <option>PATCH</option>
                  <option>DELETE</option>
                </select>
              </div>
              <div class="col-md-4">
                <input type="text" placeholder="path" class="form-control" value="" />
              </div>
            </div>

            <fieldset class="form-row req-qry">
              <legend>Query</legend>
              <ul>
                <li class="form-row">
                  <div class="col-xs-2"><input type="text" class="form-control" placeholder="name" /></div>
                  <div class="col-xs-2"><input type="text" class="form-control" placeholder="value" /></div>
                  <div class="col-xs-2"><button class="remove">-</button></div>
                </li>
              </ul>
              <button class="add-req-qry">+</button><br />
            </fieldset>
            <fieldset class="form-row req-hdr">
              <legend>Headers</legend>
              <ul>
                <li class="form-row">
                  <div class="col-xs-2"><input type="text" class="form-control" placeholder="name" value="X-B3-TraceId" /></div>
                  <div class="col-xs-2"><input type="text" class="form-control" placeholder="value" value="opId_001" /></div>
                  <div class="col-xs-2"><button class="remove">-</button></div>
                </li>
              </ul>
              <button class="add-req-hdr">+</button><br />
            </fieldset>
            <fieldset class="form-row">
              <legend>Response</legend>
              Status:<input type="number" placeholder="status" >

              <fieldset class="form-row res-hdr">
                <legend>Headers</legend>
                <ul>
                  <li class="form-row">
                    <div class="col-xs-2"><input type="text" class="form-control" placeholder="name" value="Content-Type" /></div>
                    <div class="col-xs-2"><input type="text" class="form-control" placeholder="value" value="application/json" /></div>
                    <div class="col-xs-2"><button class="remove">-</button></div>
                  </li>
                </ul>
                <button class="add-res-hdr">+</button><br />
              </fieldset>

              Body:<br />
              <textarea cols="50" rows="5"></textarea>
            </fieldset>
          </fieldset>
        </div>

        <div class="tab-pane form-group" id="stub_2">
          <fieldset>
            <legend>Stub-2</legend>
            <select>
              <option>-ANY-</option>
              <option>POST</option>
              <option>GET</option>
              <option>PUT</option>
              <option>PATCH</option>
              <option>DELETE</option>
            </select>
            <input type="text" placeholder="path" class="form-control" />

            <fieldset>
              <legend>Query</legend>
              <input type="text" placeholder="name" ><input type="text" placeholder="value" ><button>-</button><br />
              <button>+</button><br />
            </fieldset>
            <fieldset>
              <legend>Headers</legend>
              <input type="text" placeholder="name" ><input type="text" placeholder="value" ><button>-</button><br />
              <input type="text" placeholder="name" ><input type="text" placeholder="value" ><button>-</button><br />
              <button>+</button><br />
            </fieldset>
            <fieldset>
              <legend>Response</legend>
              Status:<input type="number" placeholder="status" >
              <fieldset>
                <legend>Headers</legend>
                <input type="text" placeholder="name" value="Cotent-Type" ><input type="text" placeholder="value" value="application/json" ><button>-</button><br />
                <input type="text" placeholder="name" ><input type="text" placeholder="value" ><button>-</button><br />
                <button>+</button><br />
              </fieldset>
              Body:<br />
              <textarea cols="50" rows="5"></textarea>
            </fieldset>
          </fieldset>
        </div>

        <div class="tab-pane form-group" id="stub_3">
          <fieldset>
            <legend>Stub-3</legend>
            <select>
              <option>-ANY-</option>
              <option>POST</option>
              <option>GET</option>
              <option>PUT</option>
              <option>PATCH</option>
              <option>DELETE</option>
            </select>
            <input type="text" placeholder="path" >
            <fieldset>
              <legend>Query</legend>
              <input type="text" placeholder="name" ><input type="text" placeholder="value" ><button>-</button><br />
              <button>+</button><br />
            </fieldset>
            <fieldset>
              <legend>Headers</legend>
              <input type="text" placeholder="name" ><input type="text" placeholder="value" ><button>-</button><br />
              <input type="text" placeholder="name" ><input type="text" placeholder="value" ><button>-</button><br />
              <button>+</button><br />
            </fieldset>
            <fieldset>
              <legend>Response</legend>
              Status:<input type="number" placeholder="status" >
              <fieldset>
                <legend>Headers</legend>
                <input type="text" placeholder="name" value="Cotent-Type" ><input type="text" placeholder="value" value="application/json" ><button>-</button><br />
                <input type="text" placeholder="name" ><input type="text" placeholder="value" ><button>-</button><br />
                <button>+</button><br />
              </fieldset>
              Body:<br />
              <textarea cols="50" rows="5"></textarea>
            </fieldset>
          </fieldset>
        </div>

      </div>


    <div class="clearfix"></div>
  </div>

</form>
</div>


<div class="templates d-none">
  <li class="nav-item stub-tab">
    <a class="nav-link" href="#stub_3" data-toggle="tab">Stub 3</a>
  </li>


  <div class="tab-pane form-group stub-pane">
    <fieldset>
      <legend>Stub-1</legend>

      <div class="form-row">
        <div class="col-xs-2">
          <select class="form-control">
            <option>-ANY-</option>
            <option>POST</option>
            <option>GET</option>
            <option>PUT</option>
            <option>PATCH</option>
            <option>DELETE</option>
          </select>
        </div>
        <div class="col-md-4">
          <input type="text" placeholder="path" class="form-control" value="" />
        </div>
      </div>

      <fieldset class="form-row req-qry">
        <legend>Query</legend>
        <ul>
          <li class="form-row">
            <div class="col-xs-2"><input type="text" class="form-control" placeholder="name" /></div>
            <div class="col-xs-2"><input type="text" class="form-control" placeholder="value" /></div>
            <div class="col-xs-2"><button class="remove">-</button></div>
          </li>
        </ul>
        <button class="add-req-qry">+</button><br />
      </fieldset>
      <fieldset class="form-row req-hdr">
        <legend>Headers</legend>
        <ul>
          <li class="form-row">
            <div class="col-xs-2"><input type="text" class="form-control" placeholder="name" value="X-B3-TraceId" /></div>
            <div class="col-xs-2"><input type="text" class="form-control" placeholder="value" value="opId_001" /></div>
            <div class="col-xs-2"><button class="remove">-</button></div>
          </li>
        </ul>
        <button class="add-req-hdr">+</button><br />
      </fieldset>
      <fieldset class="form-row">
        <legend>Response</legend>
        Status:<input type="number" placeholder="status" >

        <fieldset class="form-row res-hdr">
          <legend>Headers</legend>
          <ul>
            <li class="form-row">
              <div class="col-xs-2"><input type="text" class="form-control" placeholder="name" value="Content-Type" /></div>
              <div class="col-xs-2"><input type="text" class="form-control" placeholder="value" value="application/json" /></div>
              <div class="col-xs-2"><button class="remove">-</button></div>
            </li>
          </ul>
          <button class="add-res-hdr">+</button><br />
        </fieldset>

        Body:<br />
        <textarea cols="50" rows="5"></textarea>
      </fieldset>
    </fieldset>
  </div>
</div>


<script>
$(document).ready(function() {
  $('.add-stub').click(function() {
    $('#stub-tabs li.nav-item:last').after($('.templates .stub-tab').clone().attr('id', 'stub'))
    $('#stub-panes .tab-pane:last').after($('.templates .stub-pane').clone())
    $('#stub-tabs li.nav-item:last').find('a').trigger('click')
  })


  $('.add-req-qry').click(function() {
    console.log($('.req-qry li:last'))
    $('.req-qry li:last').after($('.req-qry li:last').clone())
  })
  $('.req-qry').on('click', '.remove', function() {
    $(this).closest('li').remove()
  })

  $('.add-req-hdr').click(function() {
    $('.req-hdr li:last').after($('.req-hdr li:last').clone())
  })
  $('.req-hdr').on('click', '.remove', function() {
    $(this).closest('li').remove()
  })

  $('.add-res-hdr').click(function() {
    $('.res-hdr li:last').after($('.res-hdr li:last').clone())
  })
  $('.res-hdr').on('click', '.remove', function() {
    $(this).closest('li').remove()
  })
})
</script>


<div id="app"></div>
<textarea id="imposter-json" cols="80" rows="15"></textarea>


</body>
</html>